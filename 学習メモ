âœ…9/25ã€Next.jsã§å­¦ã¶Reactè¬›åº§ #14ã€‘
ã‚¤ãƒŸãƒ¥ãƒ¼ã‚¿ãƒ–ãƒ«ã‚„ç ´å£Šçš„ãƒ¡ã‚½ãƒƒãƒ‰ã‚’ç†è§£ã—ã‚ˆã†ï¼ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰æ§‹æ–‡ã‚’ä½¿ã†ç†ç”±ã¨ã¯ï¼ï¼Ÿ

##JSã®å€¤ã«ã¯ãƒŸãƒ¥ãƒ¼ã‚¿ãƒ–ãƒ«ã¨ã‚¤ãƒŸãƒ¥ãƒ¼ã‚¿ãƒ–ãƒ«ã«ã¤ã„ã¦
- ãƒŸãƒ¥ãƒ¼ã‚¿ãƒ–ãƒ«ï¼šå¤‰æ›´å¯èƒ½ãªã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ
- ã‚¤ãƒŸãƒ¥ãƒ¼ã‚¿ãƒ–ãƒ«ï¼šå¤‰æ›´ä¸å¯èƒ½ãªã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆï¼ˆæ¨å¥¨âœ¨ï¼‰

â­ï¸JSã¯é…åˆ—ã¨ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã¯ãƒŸãƒ¥ãƒ¼ã‚¿ãƒ–ãƒ«ã€æ–‡å­—åˆ—ã¯ã‚¤ãƒŸãƒ¥ãƒ¼ã‚¿ãƒ–ãƒ«
ç ´å£Šçš„ãƒ¡ã‚½ãƒƒãƒ‰ã¯é¿ã‘ã¦ã€ã‚¤ãƒŸãƒ¥ãƒ¼ã‚¿ãƒ–ãƒ«ãªãƒ¡ã‚½ãƒƒãƒ‰ã‚’ä½¿ã†ã“ã¨ãŒæœ›ã¾ã—ã„
ãã®ãŸã‚ã«ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰æ§‹æ–‡ã‚„mapãƒ¡ã‚½ãƒƒãƒ‰ã‚’ä½¿ã†

##Reactã«ãŠã„ã¦ã‚‚ã‚¤ãƒŸãƒ¥ãƒ¼ã‚¿ãƒ–ãƒ«ãªå€¤ã‚’ä½¿ã†ã“ã¨ãŒæ¨å¥¨ã•ã‚Œã¦ã„ã‚‹
ç ´å£Šçš„ãƒ¡ã‚½ãƒƒãƒ‰ã¯ã€å†ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ãŒè¡Œã‚ã‚Œãªã„ãŸã‚ã€Reactã®ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãŒæ‚ªããªã‚‹

  const handleAdd = useCallback(() => {
    setArray((prevArray) => {
      const newArray = prevArray;
      newArray.push(1);
      console.log(newArray === prevArray); //true

      â†‘ã“ã®å ´åˆã€æ–°ã—ã„é…åˆ—ã‚’ä½œæˆã—ã¦ã„ãªã„ãŸã‚ã€åŒã˜é…åˆ—ã‚’å‚ç…§ã—ã¦ã„ã‚‹
      â­ï¸newArrayã¯ã€prevArrayã¨åŒã˜é…åˆ—ã‚’å‚ç…§ã—ã¦ã„ã‚‹ãŸã‚ã€Reactã¯å†ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã‚’è¡Œã‚ãªã„

      return newArray;
    });
  }, []);

ğŸ“someãƒ¡ã‚½ãƒƒãƒ‰ã¨ã¯ï¼Ÿ
é…åˆ—ã®ä¸­ã«æ¡ä»¶ã«åˆè‡´ã™ã‚‹è¦ç´ ãŒã‚ã‚‹ã‹ã©ã†ã‹ã‚’åˆ¤å®šã™ã‚‹ãƒ¡ã‚½ãƒƒãƒ‰


âœ…9/26ã€Next.jsã§å­¦ã¶Reactè¬›åº§ #15ã€‘
Custom Hooksï¼ˆã‚«ã‚¹ã‚¿ãƒ ãƒ•ãƒƒã‚¯ï¼‰ã®ä½¿ã„æ–¹ã€ä½¿ã„ã©ã“ã‚ã‚’ãƒã‚¹ã‚¿ãƒ¼ã—ã‚ˆã†ï¼

##Custom Hooksï¼ˆã‚«ã‚¹ã‚¿ãƒ ãƒ•ãƒƒã‚¯ï¼‰ã¨ã¯ï¼Ÿ
-è¤‡æ•°ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã§åŒã˜å‡¦ç†ã‚’è¡Œã†å ´åˆã€Custom Hooksã‚’ä½¿ã†ã“ã¨ã§ã€å‡¦ç†ã‚’å…±é€šåŒ–ã§ãã‚‹
-é–¢æ•°åã‚’useã€œã¨ã™ã‚‹ã“ã¨ã§ã€Hooksã¨ã—ã¦èªè­˜ã•ã‚Œã‚‹


âœ…10/3ã€Next.jsã§å­¦ã¶Reactè¬›åº§ #17ã€‘
useMemoã®ä½¿ã„æ–¹ã€useRouterã®ä½¿ã„æ–¹

##useMemoã¨ã¯ï¼Ÿ
-è¨ˆç®—é‡ã®å¤šã„å‡¦ç†ã‚’æœ€é©åŒ–ã™ã‚‹ãŸã‚ã®Hooks
-ç¬¬ä¸€å¼•æ•°ã«è¨ˆç®—å¼ã€ç¬¬äºŒå¼•æ•°ã«ä¾å­˜ã™ã‚‹å€¤ã‚’æŒ‡å®šã™ã‚‹
  è¨ˆç®—â­ï¸çµæœâ­ï¸ã‚’ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã™ã‚‹ï¼ï¼
useCallbackã¨ã®é•ã„ï¼šuseCallbackã¯é–¢æ•°ã‚’ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã™ã‚‹

  const doubleCount = useMemo(() => {
    return count * 2;
  }, [count]);

  â†‘countãŒå¤‰æ›´ã•ã‚ŒãŸå ´åˆã®ã¿ã€å†è¨ˆç®—ã•ã‚Œã‚‹


##useRouterã¨ã¯ï¼Ÿ
-Next.jsã®Hooks
-URLãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚„ã‚¯ã‚¨ãƒªãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚’å–å¾—ã™ã‚‹ãŸã‚ã®Hooks
-Next.jsã®ãƒšãƒ¼ã‚¸ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆå†…ã§ã®ã¿ä½¿ç”¨å¯èƒ½

  const router = useRouter();
  const { id } = router.query;

  â†‘URLãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚’å–å¾—ã™ã‚‹å ´åˆã€router.queryã‚’ä½¿ç”¨ã™ã‚‹

router.pathnameï¼šç¾åœ¨ã®URLã®ãƒ‘ã‚¹åã‚’å–å¾—
router.queryï¼šã‚¯ã‚¨ãƒªãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚’å–å¾—
router.push()ï¼šãƒšãƒ¼ã‚¸é·ç§»ã‚’è¡Œã†
router.back()ï¼šå‰ã®ãƒšãƒ¼ã‚¸ã«æˆ»ã‚‹
router.prefetch()ï¼šãƒšãƒ¼ã‚¸ã®äº‹å‰èª­ã¿è¾¼ã¿ã‚’è¡Œã†

ãªã©ãªã©è‰²ã€…ã‚ã‚‹ã®ã§ã€å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’å‚ç…§ã™ã‚‹ã¨è‰¯ã„ğŸ“š

âœ…10/4ã€Next.jsã§å­¦ã¶Reactè¬›åº§ #18ã€‘
Reactã§APIã‚’å©ã“ã†ï¼Next.jsã®ESLintã®è¨­å®šã‚‚ã¤ã„ã§ã«ç´¹ä»‹ï¼

##APIã‚’å©ãæ–¹æ³•
-Reactã§APIã‚’å©ãæ–¹æ³•ã¯ã€fetchãƒ¡ã‚½ãƒƒãƒ‰ã‚’ä½¿ç”¨ã™ã‚‹
-useCallbackã‚’ä½¿ã£ã¦éåŒæœŸå‡¦ç†ã‚’è¡Œã†

  const getPosts = useCallback(async () => {
    const res = await fetch("https://jsonplaceholder.typicode.com/posts");
    const json = await res.json();
    setPosts(json);
  }, []);

  â†‘useCallbackã®ç¬¬äºŒå¼•æ•°ã«ç©ºã®é…åˆ—ã‚’æŒ‡å®šã™ã‚‹ã“ã¨ã§ã€åˆå›ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°æ™‚ã®ã¿å®Ÿè¡Œã•ã‚Œã‚‹

 â­ï¸åˆæœŸå€¤ã‚’æŒ‡å®šã—ãªã„ã¨ã‚¨ãƒ©ãƒ¼ã«ãªã‚‹------â†“
 const [posts, setPosts] = useState([]);

 

âœ…10/6ã€Next.jsã§å­¦ã¶Reactè¬›åº§ #19ã€‘
éåŒæœŸå‡¦ç†ã§å¿…è¦ã«ãªã‚‹ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã¨ã‚¨ãƒ©ãƒ¼ã®å‡¦ç†ã«ã¤ã„ã¦å­¦ã¼ã†

##éåŒæœŸå‡¦ç†ã§å¿…è¦ã«ãªã‚‹ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã¨ã‚¨ãƒ©ãƒ¼ã®å‡¦ç†
--try-catchæ–‡ã‚’ä½¿ã£ã¦ã‚¨ãƒ©ãƒ¼å‡¦ç†ã‚’è¡Œã†

  const getPosts = useCallback(async () => {
    try {
      const res = await fetch("https://jsonplaceholder.typicode.com/posts");
      const json = await res.json();
      setPosts(json);
    } catch (error) {
      console.error(error);
    }finaly{
      setLoading(false);
    }
  }, []);

  â†‘tryå†…ã§ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ãŸå ´åˆã€catchå†…ã®å‡¦ç†ãŒå®Ÿè¡Œã•ã‚Œã‚‹
  finalyå†…ã®å‡¦ç†ã¯ã€try-catchæ–‡ã®å‡¦ç†ãŒçµ‚äº†ã—ãŸå¾Œã«å®Ÿè¡Œã•ã‚Œã‚‹


âœ…10/7ã€Next.jsã§å­¦ã¶Reactè¬›åº§ #20ã€‘
useReducerã®ä½¿ã„æ–¹ã‚’å­¦ã¼

  //Stateã‚’ä¸€ã¤ã«ã¾ã¨ã‚ã‚‹
  //â­ï¸é–¢æ•°ã‚’ä½¿ã£ã¦å‰ã®å€¤ã‚’å–å¾—ã™ã‚‹
  //ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰æ§‹æ–‡ã§å±•é–‹ã—ã¦ã€æ–°ã—ã„å€¤ã‚’è¿½åŠ ã™ã‚‹

    ...prevStateï¼š
  æ—¢å­˜ã®Stateã‚’å±•é–‹ã™ã‚‹
  
    data: [],
    loading: true,
    error: null,

  setState((prevState) => {
    return {
      ...prevState,
      data: json,
      loading: false,
  
    };
  });

  â†‘ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰æ¼”ç®—å­ã‚’ä½¿ã†ã“ã¨ã§dataã®å€¤ã ã‘ã‚’æ›´æ–°ã™ã‚‹å ´åˆã€ä»–ã®å€¤ã¯ãã®ã¾ã¾ã«ãªã‚‹
  â­ï¸æ›¸ãæ›ãˆãŸã„å€¤ã ã‘ã‚’æ›´æ–°ã™ã‚‹ã“ã¨ãŒã§ãã‚‹

  ##useReducerã¨ã¯ï¼Ÿ
  -Stateã‚’ä¸€ã¤ã«ã¾ã¨ã‚ã‚‹Hooks
  -å‰ã®Stateã‚’å–å¾—ã—ã¦ã€æ–°ã—ã„Stateã‚’è¿”ã™é–¢æ•°ã‚’ä½¿ã†æ™‚ã«å¥½ã¾ã—ã„

  -dispatché–¢æ•°ã‚’ä½¿ã£ã¦ã€Stateã‚’æ›´æ–°ã™ã‚‹
  ä¸‹ä½ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã«Stateã‚’æ¸¡ã™å ´åˆã€useReducerã‚’ä½¿ã†ã¨ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãŒå‘ä¸Šã™ã‚‹

  (satate,action) => newState
ã€€â­ï¸stateã¨actionã‚’å—ã‘å–ã£ã¦æ–°ã—ã„stateã‚’ä½œã‚‹ï¼ï¼



const reducer = (state, action) => {
  switch (action.type) {
    case "end":
      return {
        ...state,
        data: action.data,
        loading: false,
      };

    case "error":
      return {
        ...state,
        error: action.error,
        loading: false,
      };

    default:
      throw new Error("no such action type!");
  }
};

reducerï¼Ÿï¼Ÿ
-å‰ã®Stateã¨actionã‚’å—ã‘å–ã£ã¦ã€æ–°ã—ã„Stateã‚’è¿”ã™é–¢æ•°ï¼ˆå¤§äº‹ï¼‰
dispatché–¢æ•°ã‚’ä½¿ã£ã¦ã€Stateã‚’æ›´æ–°ã™ã‚‹
